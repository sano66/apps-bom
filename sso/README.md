
# Spring Security 学習プロジェクト

自分用のSpring Security の学習です。

## 認証要件

1. /debug.jsp, /permit_all.htmlは誰でもアクセス可能
1. 上記以外は認証済でなければアクセス不可
1. シングルサインオンでhttpヘッダーにSSO_USERが付与されている。
1. アプリケーションを利用するには店番号とSSO_USERで指定したユーザ名が必要
1. アプリケーションの認証ができなかった場合は、店識別とユーザ名のログインフォームよりログイン
1. 店識別はNYとかPARISとか都市を表す任意の用語
1. 店識別をリクエストパラメータで指定した場合は、認証済のSSO_USERとあわせて自動ログインさせる

## おまけ

1. アプリケーションのログインフォームはJSPではなくサーブレットで作成し、認証・認可のパッケージの可搬性を高める

## Step 1

1. /debug.jsp, /permit_all.htmlは誰でもアクセス可能
1. 上記以外は認証済でなければアクセス不可

### point

1. configure(WebSecurity)の定義
1. configure(HttpSecurity)の定義

## Step 2

1. シングルサインオンでhttpヘッダーにSSO_USERが付与されている。

### point

1. リクエストヘッダーを検査するフィルタの登録
1. 上記フィルタで使用するtokenに応じた認証プロバイダの登録
1. フィルタが設定するtoken.detailはGrantedAuthorityを実装していること

## 利用規約

誤りがあれば遠慮なくご指摘ください。